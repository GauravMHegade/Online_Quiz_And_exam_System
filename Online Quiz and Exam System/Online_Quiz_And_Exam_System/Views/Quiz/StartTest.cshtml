@model List<Online_Quiz_And_Exam_System.Models.Question>

<h2>Online Test</h2>

<div id="timer">Time Left: 60:00</div>

<form method="post" action="/Quiz/Submit">
@for (int i = 0; i < Model.Count; i++)
{
    <p><b>@(i + 1). @Model[i].QuestionText</b></p>

    <input type="radio" name="ans[@i]" value="A" required /> @Model[i].OptionA <br />
    <input type="radio" name="ans[@i]" value="B" /> @Model[i].OptionB <br />
    <input type="radio" name="ans[@i]" value="C" /> @Model[i].OptionC <br />
    <input type="radio" name="ans[@i]" value="D" /> @Model[i].OptionD <br />
}
<br />
<button type="submit">Submit Test</button>
</form>

<script>
    let time = 60 * 60;

    setInterval(() => {
        let min = Math.floor(time / 60);
        let sec = time % 60;
        document.getElementById("timer").innerText =
            `Time Left: ${min}:${sec < 10 ? '0' : ''}${sec}`;
        time--;
        if (time < 0) document.forms[0].submit();
    }, 1000);
</script>
